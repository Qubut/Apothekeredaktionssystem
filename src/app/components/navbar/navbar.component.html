<nav
  class="relative flex flex-wrap items-center justify-between w-full py-4 text-gray-500 bg-gray-100 shadow-lg hover:text-gray-700 focus:text-gray-700 navbar navbar-expand-lg navbar-light"
  style="overflow-x: hidden;"
>
  <div
    class="flex flex-wrap items-center justify-between w-full px-6 container-fluid"
  >
    <button
      class="navbar-toggler text-gray-500 border-0 hover:shadow-none hover:no-underline py-2 px-2.5 bg-transparent focus:outline-none focus:ring-0 focus:shadow-none focus:no-underline"
      type="button"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      (click)="uncollapse()"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="fas"
        data-icon="bars"
        class="w-5"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 448 512"
      >
        <path
          fill="currentColor"
          d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"
        ></path>
      </svg>
    </button>
    <div
      class="items-center flex-grow collapse navbar-collapse"
      id="navbarSupportedContent"
    >
      <div class="logo-wrapper">
        <a
          routerLink="/home"
          class="logo-svg"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          (click)="uncollapse()"
        >
          <img
            class="h-[5rem] w-48"
            src="https://riem-apotheke-bucket.s3.eu-west-2.amazonaws.com/logo_vector_87b7d82bde.svg?updated_at=2022-10-23T19:24:16.390Z"
            alt=""
            srcset=""
          />
        </a>
      </div>

      <!-- Left links -->
      <ul class="flex flex-col pl-0 mr-auto navbar-nav list-style-none" autoscroll="true">
        <ng-container *ngFor="let page of pages$|async">
          <li class="p-2 nav-item">
            <ng-container *ngIf="page.target != '_blank'; else external">
              <a
                class="p-0 nav-link focus:text-blue-700 hover:text-blue-500"
                [routerLink]="page.url"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                (click)="uncollapse()"
                >{{ page.title }}</a
              ></ng-container
            >
            <ng-template #external>
              <a
                [target]="page.target"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                (click)="openAndunCollapse(page.url) "
                class="p-0 nav-link hover:text-blue-500 focus:text-blue-700"
                [href]="page.url"
                >{{ page.title }}</a
              ></ng-template
            >
          </li>
        </ng-container>
      </ul>

      <!-- Left links -->
    </div>
    <!-- Collapsible wrapper -->

    <!-- Right elements -->
    <div
      class="relative flex items-center"
      [ngClass]="!hasCollapsed ? 'shopping-cart' : ''"
    >
      <!-- Icon -->
      <a
        class="mr-4 text-gray-500 hover:text-gray-700 focus:text-gray-700"
        href="#"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasRight"
        aria-controls="offcanvasRight"
      >
        <div
          *ngIf="cartCount > 0"
          class="p-16 absolute inline-block top-0 right-0 bottom-auto left-auto -translate-y-5 rotate-0 skew-x-0 skew-y-0 scale-x-100 scale-y-100 py-1 px-2.5 font-kaushan text-xs leading-none text-center whitespace-nowrap align-baseline font-bold bg-red-600 text-white rounded-full z-10 -translate-x-1"
        >
          {{ cartCount }}
        </div>
        <span *ngIf="cartCount == 0" class="cart-num"> {{ cartCount }}</span>
        <svg
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="shopping-cart"
          class="w-7"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
        >
          <path
            [attr.fill]="cartCount > 0 ? 'rgb(37 99 235)' : ''"
            d="M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"
          ></path>
        </svg>
      </a>
    </div>
    <!-- Right elements -->
  </div>
</nav>
